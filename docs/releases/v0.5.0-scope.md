# metaFirst v0.5 scope

**Status:** draft  
**Target branch:** release/v0.5

## Objective

Move from "clear and usable" to operationally mature. Focus on day-2 lab operations, governance transparency, and auditability. Prioritise small, incremental UX/workflow changes; avoid new core data models or automatic enforcement.

---

## Themes and candidate sub-features

### Theme A — Auditability: "who did what, when, why"

**Goal:** Make governance actions reconstructable without heavy process.

**In-scope:**
- Lab Activity Log (minimal): chronological feed of key events (actor, timestamp, object, short reason).
- Reason capture on sensitive actions (optional/required for role changes, RDMP activation/supersede, making project operational, switching to PUBLIC).
- Change diff surfaces for role/visibility changes in activity detail.

**Out-of-scope:**
- Logging every minor UI interaction.

### Theme B — Day-2 operations: steady-state lab management

**Goal:** Reduce long-term attention cost for Stewards and PIs.

**In-scope:**
- Lab overview dashboard: counts/filters by operational state and RDMP status; "needs attention" slice.
- Member lifecycle workflow: invite/remove checklist and recent membership changes view.
- Ingestor hygiene: list of ingestors with last-used and scope; informational prompts for unused ingestors.

**Out-of-scope:**
- New task/ticket system or automation.

### Theme C — Governance transparency: authority and decisions in context

**Goal:** Make "who can do what" obvious at decision points.

**In-scope:**
- Authority hints inline at sensitive controls (e.g., "Requires PI / Steward+").
- Role lineage explanation copy clarifying "highest stored role wins" and deprecated project memberships.
- Decision receipts summarising prerequisites at action time and recording that summary into the audit event.

**Out-of-scope:**
- Full policy engine or approval workflows.

### Theme D — Compliance posture visibility

**Goal:** Make remediation advisory but understandable over time.

**In-scope:**
- Remediation history (when advice added/cleared and why).
- Consistent severity + concise "why this matters" text for remediation items.
- Export/print-friendly "Lab posture report" (static HTML/PDF-friendly).

**Out-of-scope:**
- Scoring systems or enforcement.

### Theme E — Ingestion ergonomics: one-file → many-samples (MVP)

**Goal:** Support common lab artifacts that contain multiple samples (e.g. western blots, qPCR exports) without expanding the data model beyond multiple samples referencing one raw file.

**MVP boundaries:**
- Single raw file → one or many samples (no new sub-sample entity).
- Two ingestion modes only:
  - Guided loop (optimised for N ≤ 10–20).
  - Spreadsheet import (strict template, preview, validation) for larger N.
- First UX question: "How many samples are in this file?"
  - 1 → existing flow
  - 2–20 → loop UI
  - \>20 → recommend spreadsheet (loop still allowed but discouraged)
- Require a per-sample identifier (sample_name) in all modes.
- Optional position (lane/well) as free text.
- Spreadsheet template (minimal):
  - Required: sample_name, project, visibility (or inherit)
  - Optional: position, notes, other supported metadata fields
- Validation and UX guardrails:
  - Preflight validation for duplicates and missing required fields.
  - All-or-nothing creation after validation for spreadsheet mode.
  - Preview step showing "N samples will be created" and a diff-like summary.
- Minimal audit events:
  - INGEST_FILE_UPLOADED
  - INGEST_MULTISAMPLE_DECLARED(count=N)
  - INGEST_SAMPLES_CREATED(count=N, method=loop|spreadsheet, template_version=…)

**Explicit non-goals for this MVP:**
- Plate or plate-map modelling
- Arbitrary file-to-sample mapping UI
- Background ingestion jobs
- Partial ingest as the default behaviour

---

## Non-goals (global)

- No tenancy model changes.
- No new core entity types (approvals, tickets, policies).
- No automatic enforcement or deletion.
- No wholesale replacement of deprecated project-level memberships.

---

## Success signals (examples)

1. Sensitive actions show actor, timestamp, and reason in the activity log ≥90% of the time.
2. "Needs attention" is reachable within the top two lab views for Stewards.
3. Multi-sample ingest: spreadsheet path validates and creates N samples in a single transaction for N ≤ 500 (document any UI caps separately).
4. Post-ingest receipt lists created sample IDs and links to the shared raw file for all multi-sample ingests.

---

## Next step for engineering

This PR only adds the scope doc and a README pointer. Follow-up PRs should implement sub-features incrementally.
